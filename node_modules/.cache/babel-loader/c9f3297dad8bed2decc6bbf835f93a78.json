{"ast":null,"code":"var _jsxFileName = \"F:\\\\Congviec\\\\Fooobe\\\\fooobe-master\\\\src\\\\users\\\\compoment\\\\storys\\\\layer\\\\users\\\\suppor\\\\SMPSuppor\\\\SPMChangeDisplayPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport PublicIcon from \"@material-ui/icons/Public\";\nimport PrivateIcon from \"@material-ui/icons/Https\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport { useHistory } from \"react-router-dom\";\nimport Axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SPMChangeDisplayPost({\n  classes,\n  setOpen,\n  value,\n  setDataStory,\n  dataStory,\n  keyAPI,\n  TOKEN,\n  PATH\n}) {\n  _s();\n\n  let history = useHistory();\n  const [newData, setNewData] = useState(dataStory.filter(item => item.story_stt === value.story_stt)[0]);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const changeDisplay = mode => {\n    setOpen(false);\n    Axios.post(keyAPI.apiEventStory, {\n      id: PATH,\n      token: TOKEN,\n      ev: \"changedisplay\",\n      ts: value.story_stt,\n      tsv: mode\n    }).then(({\n      data\n    }) => {\n      if (data.check === \"xp\") {\n        history.push(\"/logout\");\n      } else {\n        if (typeof data !== undefined) {\n          if (data.resul === \"ok\") {\n            newData.post_display_mode = mode;\n            setDataStory(oldData => {\n              let newState;\n              newState = oldData.map((val, index) => {\n                return val.story_stt === value.story_stt ? newData : val;\n              });\n              return newState;\n            });\n            const nextNotices = document.getElementById(\"snackbar-fooobe\");\n            nextNotices.className = \"showSnackBarFooobe\";\n            nextNotices.innerText = \"Bài viết đã được đặt chế độ \" + (mode === \"public\" ? \"công khai\" : mode === \"friend\" ? \"bạn bè\" : \"chỉ mình tôi\");\n            setTimeout(function () {\n              nextNotices.className = nextNotices.className.replace(\"showSnackBarFooobe\", \"showSnackBarFooobe-2\");\n            }, 5000);\n          }\n        }\n      }\n    }).catch(error => {\n      if (error.response) {\n        console.log(\"Truy vấn có vấn đề\");\n      } else if (error.request) {\n        console.log(\"Không nhận được phản hồi\");\n      } else {\n        console.log(\"I am Nhân by Fo\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"classCompSettins\",\n    children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n      className: classes.titleStyle,\n      children: \"Thay \\u0111\\u1ED5i ch\\u1EBF \\u0111\\u1ED9 hi\\u1EC3n th\\u1ECB\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"100%\",\n        height: \"0.1px\",\n        backgroundColor: \"rgba(201, 192, 192, 0.966)\",\n        marginTop: \"10px\",\n        marginBottom: \"15px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      className: classes.textStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"class-setting-storys\",\n        onClick: () => changeDisplay(\"public\"),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"class-setting-storys-icon\",\n          children: /*#__PURE__*/_jsxDEV(PublicIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"C\\xF4ng khai v\\u1EDBi m\\u1ECDi ng\\u01B0\\u1EDDi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"class-setting-storys\",\n        onClick: () => changeDisplay(\"friend\"),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"class-setting-storys-icon\",\n          children: /*#__PURE__*/_jsxDEV(GroupIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Hi\\u1EC3n th\\u1ECB v\\u1EDBi b\\u1EA1n b\\xE8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"class-setting-storys\",\n        onClick: () => changeDisplay(\"private\"),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"class-setting-storys-icon\",\n          children: /*#__PURE__*/_jsxDEV(PrivateIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Ch\\u1EC9 m\\xECnh t\\xF4i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SPMChangeDisplayPost, \"9Bqa4Sys6XTNwgKVaS3A2lDvoYY=\", false, function () {\n  return [useHistory];\n});\n\n_c = SPMChangeDisplayPost;\nexport default SPMChangeDisplayPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"SPMChangeDisplayPost\");","map":{"version":3,"sources":["F:/Congviec/Fooobe/fooobe-master/src/users/compoment/storys/layer/users/suppor/SMPSuppor/SPMChangeDisplayPost.js"],"names":["React","useState","DialogContent","PublicIcon","PrivateIcon","GroupIcon","useHistory","Axios","SPMChangeDisplayPost","classes","setOpen","value","setDataStory","dataStory","keyAPI","TOKEN","PATH","history","newData","setNewData","filter","item","story_stt","handleClose","changeDisplay","mode","post","apiEventStory","id","token","ev","ts","tsv","then","data","check","push","undefined","resul","post_display_mode","oldData","newState","map","val","index","nextNotices","document","getElementById","className","innerText","setTimeout","replace","catch","error","response","console","log","request","titleStyle","width","height","backgroundColor","marginTop","marginBottom","textStyle"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport PublicIcon from \"@material-ui/icons/Public\";\r\nimport PrivateIcon from \"@material-ui/icons/Https\";\r\nimport GroupIcon from \"@material-ui/icons/Group\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\n\r\nfunction SPMChangeDisplayPost({\r\n  classes,\r\n  setOpen,\r\n  value,\r\n  setDataStory,\r\n  dataStory,\r\n  keyAPI,\r\n  TOKEN,\r\n  PATH,\r\n}) {\r\n  let history = useHistory();\r\n  const [newData, setNewData] = useState(\r\n    dataStory.filter((item) => item.story_stt === value.story_stt)[0]\r\n  );\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const changeDisplay = (mode) => {\r\n    setOpen(false);\r\n    Axios.post(keyAPI.apiEventStory, {\r\n      id: PATH,\r\n      token: TOKEN,\r\n      ev: \"changedisplay\",\r\n      ts: value.story_stt,\r\n      tsv: mode,\r\n    })\r\n      .then(({ data }) => {\r\n        if (data.check === \"xp\") {\r\n          history.push(\"/logout\");\r\n        } else {\r\n          if (typeof data !== undefined) {\r\n            if (data.resul === \"ok\") {\r\n              newData.post_display_mode = mode;\r\n              setDataStory((oldData) => {\r\n                let newState;\r\n                newState = oldData.map((val, index) => {\r\n                  return val.story_stt === value.story_stt ? newData : val;\r\n                });\r\n                return newState;\r\n              });\r\n              const nextNotices = document.getElementById(\"snackbar-fooobe\");\r\n              nextNotices.className = \"showSnackBarFooobe\";\r\n              nextNotices.innerText =\r\n                \"Bài viết đã được đặt chế độ \" +\r\n                (mode === \"public\"\r\n                  ? \"công khai\"\r\n                  : mode === \"friend\"\r\n                  ? \"bạn bè\"\r\n                  : \"chỉ mình tôi\");\r\n              setTimeout(function () {\r\n                nextNotices.className = nextNotices.className.replace(\r\n                  \"showSnackBarFooobe\",\r\n                  \"showSnackBarFooobe-2\"\r\n                );\r\n              }, 5000);\r\n            }\r\n          }\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          console.log(\"Truy vấn có vấn đề\");\r\n        } else if (error.request) {\r\n          console.log(\"Không nhận được phản hồi\");\r\n        } else {\r\n          console.log(\"I am Nhân by Fo\");\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"classCompSettins\">\r\n      <DialogContent className={classes.titleStyle}>\r\n        Thay đổi chế độ hiển thị\r\n      </DialogContent>{\" \"}\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          height: \"0.1px\",\r\n          backgroundColor: \"rgba(201, 192, 192, 0.966)\",\r\n          marginTop: \"10px\",\r\n          marginBottom: \"15px\",\r\n        }}\r\n      ></div>\r\n      <DialogContent className={classes.textStyle}>\r\n        <br />\r\n        <div\r\n          className=\"class-setting-storys\"\r\n          onClick={() => changeDisplay(\"public\")}\r\n        >\r\n          <div className=\"class-setting-storys-icon\">\r\n            <PublicIcon />\r\n          </div>\r\n          <div>Công khai với mọi người</div>\r\n        </div>\r\n        <div\r\n          className=\"class-setting-storys\"\r\n          onClick={() => changeDisplay(\"friend\")}\r\n        >\r\n          <div className=\"class-setting-storys-icon\">\r\n            <GroupIcon />\r\n          </div>\r\n          <div>Hiển thị với bạn bè</div>\r\n        </div>\r\n        <div\r\n          className=\"class-setting-storys\"\r\n          onClick={() => changeDisplay(\"private\")}\r\n        >\r\n          <div className=\"class-setting-storys-icon\">\r\n            <PrivateIcon />\r\n          </div>\r\n          <div>Chỉ mình tôi</div>\r\n        </div>\r\n      </DialogContent>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SPMChangeDisplayPost;\r\n"]},"metadata":{},"sourceType":"module"}