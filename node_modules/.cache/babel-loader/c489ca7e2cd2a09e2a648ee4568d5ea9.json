{"ast":null,"code":"var _jsxFileName = \"F:\\\\Congviec\\\\Fooobe\\\\fooobe-master\\\\src\\\\users\\\\compoment\\\\storys\\\\layer\\\\users\\\\suppor\\\\SMPSuppor\\\\SMPDeletePost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport { useHistory } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport Axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SMPDeletePost({\n  classes,\n  setOpen,\n  value,\n  setDataStory,\n  dataStory,\n  keyAPI,\n  TOKEN,\n  PATH\n}) {\n  _s();\n\n  let history = useHistory();\n  const [newData, setNewData] = useState(dataStory.filter(item => item.story_stt === value.story_stt)[0]);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const deletePost = () => {\n    setOpen(false);\n    Axios.post(keyAPI.apiEventStory, {\n      id: PATH,\n      token: TOKEN,\n      ev: \"removepost\",\n      ts: value.story_stt\n    }).then(({\n      data\n    }) => {\n      if (data.check === \"xp\") {\n        history.push(\"/logout\");\n      } else {\n        if (typeof data !== undefined) {\n          if (data.resul === \"ok\") {\n            newData.post_status = \"delete\";\n            setDataStory(oldData => {\n              let newState;\n              newState = oldData.map((val, index) => {\n                return val.story_stt === value.story_stt ? newData : val;\n              });\n              return newState;\n            });\n            const nextNotices = document.getElementById(\"snackbar-fooobe\");\n            nextNotices.className = \"showSnackBarFooobe\";\n            nextNotices.innerText = \"Đã gỡ bài viết\";\n            setTimeout(function () {\n              nextNotices.className = nextNotices.className.replace(\"showSnackBarFooobe\", \"showSnackBarFooobe-2\");\n            }, 5000);\n          }\n        }\n      }\n    }).catch(error => {\n      if (error.response) {\n        console.log(\"Truy vấn có vấn đề\");\n      } else if (error.request) {\n        console.log(\"Không nhận được phản hồi\");\n      } else {\n        console.log(\"I am Nhân by Fo\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"classCompSettins\",\n    children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n      className: classes.titleStyle,\n      children: \"G\\u1EE1 b\\xE0i vi\\u1EBFt\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"100%\",\n        height: \"0.1px\",\n        backgroundColor: \"rgba(201, 192, 192, 0.966)\",\n        marginTop: \"10px\",\n        marginBottom: \"15px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      className: classes.textStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), \"B\\u1EA1n c\\xF3 ch\\u1EAFc ch\\u1EAFn mu\\u1ED1n g\\u1EE1 b\\xE0i vi\\u1EBFt n\\xE0y kh\\xF4ng?\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        style: {\n          textTransform: \"none\",\n          fontWeight: \"600\"\n        },\n        onClick: handleClose,\n        children: \"H\\u1EE7y\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: classes.deleteStyle,\n        variant: \"contained\",\n        color: \"primary\",\n        disableElevation: true,\n        onClick: deletePost,\n        children: \"X\\xF3a, g\\u1EE1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SMPDeletePost, \"9Bqa4Sys6XTNwgKVaS3A2lDvoYY=\", false, function () {\n  return [useHistory];\n});\n\n_c = SMPDeletePost;\nexport default SMPDeletePost;\n\nvar _c;\n\n$RefreshReg$(_c, \"SMPDeletePost\");","map":{"version":3,"sources":["F:/Congviec/Fooobe/fooobe-master/src/users/compoment/storys/layer/users/suppor/SMPSuppor/SMPDeletePost.js"],"names":["React","useEffect","useState","DialogActions","DialogContent","useHistory","Button","Axios","SMPDeletePost","classes","setOpen","value","setDataStory","dataStory","keyAPI","TOKEN","PATH","history","newData","setNewData","filter","item","story_stt","handleClose","deletePost","post","apiEventStory","id","token","ev","ts","then","data","check","push","undefined","resul","post_status","oldData","newState","map","val","index","nextNotices","document","getElementById","className","innerText","setTimeout","replace","catch","error","response","console","log","request","titleStyle","width","height","backgroundColor","marginTop","marginBottom","textStyle","textTransform","fontWeight","deleteStyle"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Axios from \"axios\";\r\n\r\nfunction SMPDeletePost({\r\n  classes,\r\n  setOpen,\r\n  value,\r\n  setDataStory,\r\n  dataStory,\r\n  keyAPI,\r\n  TOKEN,\r\n  PATH,\r\n}) {\r\n  let history = useHistory();\r\n  const [newData, setNewData] = useState(\r\n    dataStory.filter((item) => item.story_stt === value.story_stt)[0]\r\n  );\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const deletePost = () => {\r\n    setOpen(false);\r\n\r\n    Axios.post(keyAPI.apiEventStory, {\r\n      id: PATH,\r\n      token: TOKEN,\r\n      ev: \"removepost\",\r\n      ts: value.story_stt,\r\n    })\r\n      .then(({ data }) => {\r\n        if (data.check === \"xp\") {\r\n          history.push(\"/logout\");\r\n        } else {\r\n          if (typeof data !== undefined) {\r\n            if (data.resul === \"ok\") {\r\n              newData.post_status = \"delete\";\r\n              setDataStory((oldData) => {\r\n                let newState;\r\n                newState = oldData.map((val, index) => {\r\n                  return val.story_stt === value.story_stt ? newData : val;\r\n                });\r\n                return newState;\r\n              });\r\n              const nextNotices = document.getElementById(\"snackbar-fooobe\");\r\n              nextNotices.className = \"showSnackBarFooobe\";\r\n              nextNotices.innerText = \"Đã gỡ bài viết\";\r\n              setTimeout(function () {\r\n                nextNotices.className = nextNotices.className.replace(\r\n                  \"showSnackBarFooobe\",\r\n                  \"showSnackBarFooobe-2\"\r\n                );\r\n              }, 5000);\r\n            }\r\n          }\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        if (error.response) {\r\n          console.log(\"Truy vấn có vấn đề\");\r\n        } else if (error.request) {\r\n          console.log(\"Không nhận được phản hồi\");\r\n        } else {\r\n          console.log(\"I am Nhân by Fo\");\r\n        }\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"classCompSettins\">\r\n      <DialogContent className={classes.titleStyle}>\r\n        Gỡ bài viết\r\n      </DialogContent>{\" \"}\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          height: \"0.1px\",\r\n          backgroundColor: \"rgba(201, 192, 192, 0.966)\",\r\n          marginTop: \"10px\",\r\n          marginBottom: \"15px\",\r\n        }}\r\n      ></div>\r\n      <DialogContent className={classes.textStyle}>\r\n        <br />\r\n        Bạn có chắc chắn muốn gỡ bài viết này không?\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          color=\"primary\"\r\n          style={{ textTransform: \"none\", fontWeight: \"600\" }}\r\n          onClick={handleClose}\r\n        >\r\n          Hủy\r\n        </Button>\r\n        <Button\r\n          className={classes.deleteStyle}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          disableElevation\r\n          onClick={deletePost}\r\n        >\r\n          Xóa, gỡ\r\n        </Button>\r\n      </DialogActions>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SMPDeletePost;\r\n"]},"metadata":{},"sourceType":"module"}