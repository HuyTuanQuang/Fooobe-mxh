{"ast":null,"code":"var _jsxFileName = \"F:\\\\Congviec\\\\Fooobe\\\\fooobe-master\\\\src\\\\users\\\\compoment\\\\function\\\\Comments.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport Axios from \"axios\";\nimport \"./CommentsCSS.css\";\nimport Comment from \"./Comment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Comments({\n  keyAPI,\n  storyID,\n  bgMau,\n  listFriend,\n  dataAcc,\n  countCMT,\n  index,\n  loadComment,\n  openComment,\n  valueStory,\n  TOKEN,\n  PATH\n}) {\n  _s();\n\n  const [cookies, setCookie, removeCookie] = useCookies([\"fo_uim\", \"fo_token\"]);\n  const [comment, setComment] = useState([]);\n  const [newComment, setNewComment] = useState([]);\n  const [newSendComment, setNewSendComment] = useState([]);\n  const [deley, setDeley] = useState(1);\n  const [countReCmt, setCountReCmt] = useState(0);\n  const [cmtSTT, setCmtSTT] = useState(0);\n  const [newSTT, setNewSTT] = useState(0);\n  useEffect(() => {\n    if (loadComment === 0) {\n      Axios.post(keyAPI.apiComment, {\n        id: cookies.fo_uim,\n        token: cookies.fo_token,\n        story: storyID\n      }).then(({\n        data\n      }) => {\n        if (typeof data.comment !== \"undefined\" && data.comment.length > 0) {\n          setComment(data.comment);\n          setCmtSTT(data.comment[0].STT);\n          setNewSTT(data.comment[data.comment.length - 1].STT);\n          setCountReCmt(countCMT - 2);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }, [keyAPI]);\n  useEffect(() => {\n    if (loadComment !== 0) {\n      Axios.post(keyAPI.apiNewComment, {\n        id: cookies.fo_uim,\n        token: cookies.fo_token,\n        story: storyID,\n        stt: newSTT\n      }).then(({\n        data\n      }) => {\n        if (typeof data.comment !== \"undefined\" && data.comment.length > 0) {\n          setNewSendComment(newSendComment.concat(data.comment));\n\n          if (data.comment.length === 1) {\n            setNewSTT(data.comment[0].STT);\n          } else {\n            setNewSTT(data.comment[data.comment.length - 1].STT);\n          }\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }, [keyAPI, loadComment]); // const delayCMT = () => {\n  //   // if (contentRep === true) {\n  //      setDeley(deley + 1);\n  //   // }\n  // };\n  // setInterval(delayCMT, 5000);\n\n  const updateCMT = () => {\n    Axios.post(keyAPI.apiRealComment, {\n      id: cookies.fo_uim,\n      token: cookies.fo_token,\n      story: storyID,\n      stt: cmtSTT\n    }).then(({\n      data\n    }) => {\n      if (typeof data.comment !== \"undefined\" && data.comment.length > 0) {\n        setNewComment(data.comment.concat(newComment));\n\n        if (data.comment[0].NEWCOUNTCMT > 50) {\n          setCountReCmt(countReCmt - 50);\n        } else {\n          setCountReCmt(countReCmt - Number(data.comment[0].NEWCOUNTCMT));\n        }\n\n        setCmtSTT(data.comment[0].STT);\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const hideCMT = () => {\n    setCmtSTT(comment[0].STT);\n    setNewComment([]);\n    setCountReCmt(countCMT - 2);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [newComment.length > 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: \"1rem\",\n        fontWeight: \"bold\",\n        cursor: \"pointer\",\n        color: \"#959595\",\n        marginTop: \"-45px\",\n        marginBottom: \"5px\"\n      },\n      onClick: hideCMT,\n      children: \"\\u1EA8n b\\u1EDBt b\\xECnh lu\\u1EADn\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }, this), Number(countReCmt) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: \"1rem\",\n        fontWeight: \"bold\",\n        cursor: \"pointer\",\n        color: \"#959595\",\n        marginTop: \"-45px\",\n        marginBottom: \"5px\"\n      },\n      onClick: updateCMT,\n      children: [\"Xem th\\xEAm \", countReCmt, \" b\\xECnh lu\\u1EADn\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"a\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }, this), newComment.map((value, idx) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Comment, {\n          value: value,\n          listFriend: listFriend,\n          bgMau: bgMau,\n          dataAcc: dataAcc,\n          keyAPI: keyAPI,\n          openComment: openComment,\n          valueStory: valueStory,\n          TOKEN: TOKEN,\n          PATH: PATH,\n          setValue: setNewComment,\n          apiValue: newComment\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 15\n        }, this)\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this);\n    }), comment.map((value, idx) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Comment, {\n          value: value,\n          listFriend: listFriend,\n          bgMau: bgMau,\n          dataAcc: dataAcc,\n          keyAPI: keyAPI,\n          openComment: openComment,\n          valueStory: valueStory,\n          TOKEN: TOKEN,\n          PATH: PATH,\n          setValue: setComment,\n          apiValue: comment\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 15\n        }, this)\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this);\n    }), newSendComment.map((value, idx) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Comment, {\n          value: value,\n          listFriend: listFriend,\n          bgMau: bgMau,\n          dataAcc: dataAcc,\n          keyAPI: keyAPI,\n          openComment: openComment,\n          valueStory: valueStory,\n          TOKEN: TOKEN,\n          PATH: PATH,\n          setValue: setNewSendComment,\n          apiValue: newSendComment\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 15\n        }, this)\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Comments, \"Ts13LXF7ggU0BIN5DytWh5/p9Xg=\", false, function () {\n  return [useCookies];\n});\n\n_c = Comments;\nexport default Comments;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comments\");","map":{"version":3,"sources":["F:/Congviec/Fooobe/fooobe-master/src/users/compoment/function/Comments.js"],"names":["React","useEffect","useState","useCookies","Axios","Comment","Comments","keyAPI","storyID","bgMau","listFriend","dataAcc","countCMT","index","loadComment","openComment","valueStory","TOKEN","PATH","cookies","setCookie","removeCookie","comment","setComment","newComment","setNewComment","newSendComment","setNewSendComment","deley","setDeley","countReCmt","setCountReCmt","cmtSTT","setCmtSTT","newSTT","setNewSTT","post","apiComment","id","fo_uim","token","fo_token","story","then","data","length","STT","catch","error","console","log","apiNewComment","stt","concat","updateCMT","apiRealComment","NEWCOUNTCMT","Number","hideCMT","fontSize","fontWeight","cursor","color","marginTop","marginBottom","map","value","idx"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport Axios from \"axios\";\r\nimport \"./CommentsCSS.css\";\r\nimport Comment from \"./Comment\";\r\n\r\nfunction Comments({\r\n  keyAPI,\r\n  storyID,\r\n  bgMau,\r\n  listFriend,\r\n  dataAcc,\r\n  countCMT,\r\n  index,\r\n  loadComment,\r\n  openComment,\r\n  valueStory,\r\n  TOKEN,\r\n  PATH,\r\n}) {\r\n  const [cookies, setCookie, removeCookie] = useCookies([\"fo_uim\", \"fo_token\"]);\r\n  const [comment, setComment] = useState([]);\r\n  const [newComment, setNewComment] = useState([]);\r\n  const [newSendComment, setNewSendComment] = useState([]);\r\n  const [deley, setDeley] = useState(1);\r\n  const [countReCmt, setCountReCmt] = useState(0);\r\n  const [cmtSTT, setCmtSTT] = useState(0);\r\n  const [newSTT, setNewSTT] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (loadComment === 0) {\r\n      Axios.post(keyAPI.apiComment, {\r\n        id: cookies.fo_uim,\r\n        token: cookies.fo_token,\r\n        story: storyID,\r\n      })\r\n        .then(({ data }) => {\r\n          if (typeof data.comment !== \"undefined\" && data.comment.length > 0) {\r\n            setComment(data.comment);\r\n            setCmtSTT(data.comment[0].STT);\r\n            setNewSTT(data.comment[data.comment.length - 1].STT);\r\n            setCountReCmt(countCMT - 2);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  }, [keyAPI]);\r\n\r\n  useEffect(() => {\r\n    if (loadComment !== 0) {\r\n      Axios.post(keyAPI.apiNewComment, {\r\n        id: cookies.fo_uim,\r\n        token: cookies.fo_token,\r\n        story: storyID,\r\n        stt: newSTT,\r\n      })\r\n        .then(({ data }) => {\r\n          if (typeof data.comment !== \"undefined\" && data.comment.length > 0) {\r\n            setNewSendComment(newSendComment.concat(data.comment));\r\n            if (data.comment.length === 1) {\r\n              setNewSTT(data.comment[0].STT);\r\n            } else {\r\n              setNewSTT(data.comment[data.comment.length - 1].STT);\r\n            }\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  }, [keyAPI, loadComment]);\r\n\r\n  // const delayCMT = () => {\r\n  //   // if (contentRep === true) {\r\n  //      setDeley(deley + 1);\r\n  //   // }\r\n  // };\r\n  // setInterval(delayCMT, 5000);\r\n  const updateCMT = () => {\r\n    Axios.post(keyAPI.apiRealComment, {\r\n      id: cookies.fo_uim,\r\n      token: cookies.fo_token,\r\n      story: storyID,\r\n      stt: cmtSTT,\r\n    })\r\n      .then(({ data }) => {\r\n        if (typeof data.comment !== \"undefined\" && data.comment.length > 0) {\r\n          setNewComment(data.comment.concat(newComment));\r\n          if (data.comment[0].NEWCOUNTCMT > 50) {\r\n            setCountReCmt(countReCmt - 50);\r\n          } else {\r\n            setCountReCmt(countReCmt - Number(data.comment[0].NEWCOUNTCMT));\r\n          }\r\n\r\n          setCmtSTT(data.comment[0].STT);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const hideCMT = () => {\r\n    setCmtSTT(comment[0].STT);\r\n    setNewComment([]);\r\n    setCountReCmt(countCMT - 2);\r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      {newComment.length > 2 && (\r\n        <div\r\n          style={{\r\n            fontSize: \"1rem\",\r\n            fontWeight: \"bold\",\r\n            cursor: \"pointer\",\r\n            color: \"#959595\",\r\n            marginTop: \"-45px\",\r\n            marginBottom: \"5px\",\r\n          }}\r\n          onClick={hideCMT}\r\n        >\r\n          Ẩn bớt bình luận\r\n        </div>\r\n      )}\r\n      {Number(countReCmt) > 0 ? (\r\n        <div\r\n          style={{\r\n            fontSize: \"1rem\",\r\n            fontWeight: \"bold\",\r\n            cursor: \"pointer\",\r\n            color: \"#959595\",\r\n            marginTop: \"-45px\",\r\n            marginBottom: \"5px\",\r\n          }}\r\n          onClick={updateCMT}\r\n        >\r\n          Xem thêm {countReCmt} bình luận\r\n        </div>\r\n      ) : (\r\n        <a></a>\r\n      )}\r\n      {newComment.map((value, idx) => {\r\n        return (\r\n          <div key={idx}>\r\n        \r\n              <Comment\r\n                key={idx}\r\n                value={value}\r\n                listFriend={listFriend}\r\n                bgMau={bgMau}\r\n                dataAcc={dataAcc}\r\n                keyAPI={keyAPI}\r\n                openComment={openComment}\r\n                valueStory={valueStory}\r\n                TOKEN={TOKEN}\r\n                PATH={PATH}\r\n                setValue={setNewComment}\r\n                apiValue={newComment}\r\n              />\r\n            \r\n          </div>\r\n        );\r\n      })}\r\n      {comment.map((value, idx) => {\r\n        return (\r\n          <div key={idx}>\r\n           \r\n              <Comment\r\n                key={idx}\r\n                value={value}\r\n                listFriend={listFriend}\r\n                bgMau={bgMau}\r\n                dataAcc={dataAcc}\r\n                keyAPI={keyAPI}\r\n                openComment={openComment}\r\n                valueStory={valueStory}\r\n                TOKEN={TOKEN}\r\n                PATH={PATH}\r\n                setValue={setComment}\r\n                apiValue={comment}\r\n              />\r\n           \r\n          </div>\r\n        );\r\n      })}\r\n      {newSendComment.map((value, idx) => {\r\n        return (\r\n          <div key={idx}>\r\n          \r\n              <Comment\r\n                key={idx}\r\n                value={value}\r\n                listFriend={listFriend}\r\n                bgMau={bgMau}\r\n                dataAcc={dataAcc}\r\n                keyAPI={keyAPI}\r\n                openComment={openComment}\r\n                valueStory={valueStory}\r\n                TOKEN={TOKEN}\r\n                PATH={PATH}\r\n                setValue={setNewSendComment}\r\n                apiValue={newSendComment}\r\n              />\r\n           \r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Comments;\r\n"]},"metadata":{},"sourceType":"module"}